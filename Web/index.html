<!DOCTYPE html>
<html>
<head>
  <title>校园喵狗派</title>
  <style>
    body {
      background-color: #FCE4EC;
      background-image: url('catdoghome.png');
      background-repeat: no-repeat;
      background-size: cover;
      font-family: Arial, sans-serif;
    }

    #video-container {
      width: 640px;
      height: 480px;
      margin: 0 auto;
      margin-top: 50px;
      border-radius: 10px;
      overflow: hidden;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
    }

    #video-player {
      width: 100%;
      height: 100%;
    }

    #progress-bar-container {
      width: 600px;
      margin: 0 auto;
      margin-top: 10px;
    }

    #progress-bar {
      width: 100%;
      height: 10px;
      background-color: #eee;
      cursor: pointer;
    }

    #progress-bar-fill {
      height: 100%;
      background-color: #FF4081;
    }

    h1 {
      text-align: center;
      font-size: 28px;
      color: #FF4081;
      margin-top: 30px;
    }

    .error-message {
      text-align: center;
      color: red;
      font-size: 18px;
      margin-top: 10px;
    }

    #playback-speed-container {
      text-align: center;
      margin-top: 10px;
    }

    #playback-speed {
      display: inline-block;
      margin-right: 10px;
    }
  </style>
</head>
<body>
  <h1>校园喵狗派</h1>

  <!-- <div id="video-container">
    <video id="video-player" controls width="1920" height="1080" autoplay>  
      <source src="http://localhost:8080/test">
    </video>  
  </div> -->

<div id="video-container">
    <video id="video-player" controls width="1920" height="1080" autoplay>
      <source src="catdog.webm" type="video/webm">
    </video>
  </div>

  <div id="progress-bar-container">
    <div id="progress-bar">
      <div id="progress-bar-fill"></div>
    </div>
  </div>

  <div class="error-message" id="error-message"></div>

  <div id="playback-speed-container">
    <label for="playback-speed">倍数播放:</label>
    <select id="playback-speed">
      <option value="1">1x</option>
      <option value="1.5">1.5x</option>
      <option value="2">2x</option>
    </select>
  </div>

  <script>
    var videoPlayer = document.getElementById("video-player");
    var progressBar = document.getElementById("progress-bar");
    var progressBarFill = document.getElementById("progress-bar-fill");
    var playbackSpeed = document.getElementById("playback-speed");

    // 更新进度条
    function updateProgressBar() {
      var progress = (videoPlayer.currentTime / videoPlayer.duration) * 100;
      progressBarFill.style.width = progress + "%";
    }

    // 更新视频播放位置
    function updateVideoCurrentTime(event) {
      var progressWidth = progressBar.offsetWidth;
      var clickedPosition = event.offsetX;
      var progressPercentage = (clickedPosition / progressWidth);
      var videoTime = videoPlayer.duration * progressPercentage;
      videoPlayer.currentTime = videoTime;
    }

    // 设置视频播放速度
    function setPlaybackSpeed() {
      var selectedSpeed = playbackSpeed.value;
      videoPlayer.playbackRate = selectedSpeed;
    }

    // 监听视频播放时间更新事件
    videoPlayer.addEventListener("timeupdate", updateProgressBar);

    // 监听进度条点击事件
    progressBar.addEventListener("click", updateVideoCurrentTime);

    // 监听倍数播放选择改变事件
    playbackSpeed.addEventListener("change", setPlaybackSpeed);
  </script>

</body>
</html>
